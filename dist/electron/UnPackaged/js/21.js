(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{aa3b:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"relative-position"},[t("VideoJsPlayer",{ref:"videoJsPlayer",staticStyle:{width:"100%",height:"600px"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"fixed-center q-pa-md rounded-borders bg-page shadow-2 overflow-hidden",staticStyle:{"z-index":"9999","white-space":"pre-wrap","max-width":"80vw"}},[e._v("\n    "+e._s(JSON.stringify(e.$store.state.video,null,2))+"\n  ")])],1)},r=[],i=(t("ddb0"),t("2b3d"),t("9861"),t("5319"),t("77d8")),d=t("41ed"),o=t("0613");const n=t("ed08").isElectron();var c={name:"Player2",mixins:[l(),p()],mounted(){},beforeDestroy(){},methods:{async setSource(e){const a=this.$refs.videoJsPlayer.player;await a.promiseReady,await a.setSource(e)},play(){const e=this.$refs.videoJsPlayer.player;e.play()},clear(){},loadPlayer(){}}};function l(){return{data(){return{isActive:!1}},activated(){this.isActive=!0},deactivated(){this.isActive=!1}}}function p(){return n||Object(i["a"])()?{async activated(){o["a"].state.video.currentVideo.remotePlay&&(await this.setSourceByStreamAddress(),this.play(),await o["a"].dispatch("resetRemotePlay"))},deactivated(){},methods:{async setSourceByStreamAddress(){const e=await t.call(this);function a(e){let a=e.address;a.startsWith("play://")&&(a+=`?infoHash=${o["a"].state.video.currentVideo.infoHash}`);let t=decodeURI(new URL(decodeURI(a)).pathname);return"win32"===process.platform&&(t=t.slice(3).replace(/\//g,"\\")),{src:a,type:"video/mp4",filename:t}}async function t(){var e;const a=await new Promise((e=>{d["ipcRenderer"].once("stream-address",((a,t)=>e(t))),d["ipcRenderer"].send("get-stream-address")}));return null!==(e=a.filepath)&&void 0!==e||(a.filepath="win32"===process.platform?decodeURI(a.address).replace("play:///","").replace(/\//g,"\\"):decodeURI(a.address).replace("play://","")),a}console.tag("streamAddress").log(e),e&&await this.setSource(a.call(this,e))}}}:{}}var h=c,u=t("2877"),v=Object(u["a"])(h,s,r,!1,null,"17aea2b2",null);a["default"]=v.exports}}]);