(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"1f49":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settings-container"},[a("q-page",{staticClass:"basic-settings",class:{changed:e.changed,large:e.isElectron},staticStyle:{"min-height":"unset"},attrs:{padding:"",id:"basic-settings"}},[a("SettingBlock",{attrs:{label:e.t("language")}},[a("SettingSelect",{attrs:{options:e.languages},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}})],1),a("SettingBlock",{attrs:{label:e.t("appearance")}},[a("SettingSelect",{attrs:{options:e.darkmodeOptions},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}})],1),a("SettingBlock",{attrs:{label:e.t("default_video_player"),electronOnly:""}},[a("SettingSelect",{attrs:{options:e.videoPlayerOptions},model:{value:e.defaultVideoPlayer,callback:function(t){e.defaultVideoPlayer=t},expression:"defaultVideoPlayer"}})],1),a("SettingBlock",{attrs:{label:e.t("video_cache_time"),electronOnly:""}},[a("SettingSlider",{attrs:{value:e.settings.videoCacheTime,max:10,step:1,unit:"m",label_unit:e.t("minutes"),rate:1,keyName:"videoCacheTime"},on:{change:e.storeChange}})],1),a("SettingBlock",{attrs:{label:e.t("library")}},[a("SettingSelect",{attrs:{label:e.t("library_film_rate"),options:e.libraryRateOptions,caption:""},model:{value:e.libraryRate,callback:function(t){e.libraryRate=t},expression:"libraryRate"}}),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.libraryShowExplore,!1))],1),a("SettingBlock",{attrs:{label:e.t("start"),electronOnly:""}},[a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.autoStart,!1)),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.autoStartUnfinished,!1))],1),a("SettingBlock",{attrs:{id:"download-directory",label:e.t("download_directory"),electronOnly:""}},[a("SettingDirectory",{attrs:{value:e.settings.downloadDirectory,keyName:"downloadDirectory"},on:{change:e.storeChange}})],1),a("SettingBlock",{attrs:{label:e.t("upload_directory"),electronOnly:""}},[a("SettingDirectory",{attrs:{value:e.settings.uploadDirectory,keyName:"uploadDirectory"},on:{change:e.storeChange}}),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.autoUpload,!1)),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.unlimitUpload,!1))],1),a("SettingBlock",{attrs:{label:e.t("transport_setting")}},[a("SettingSpeed",{attrs:{value:e.settings.downloadSpeed,keyName:"downloadSpeed",label:e.t("download_limit")},on:{change:e.storeChange}}),a("SettingSpeed",{attrs:{value:e.settings.uploadSpeed,keyName:"uploadSpeed",label:e.t("upload_limit")},on:{change:e.storeChange}})],1),a("SettingBlock",{attrs:{label:e.t("payed_user_share_rate"),electronOnly:""}},[a("SettingSlider",{attrs:{value:e.settings.payedUserShareRate,min:50,unit:"%",keyName:"payedUserShareRate"},on:{change:e.storeChange}})],1),a("SettingBlock",{attrs:{label:e.t("BT_setting"),electronOnly:""}},[a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.saveMetadata,!1)),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.defaultDeleteFiles,!1))],1),a("SettingBlock",{attrs:{label:e.t("task_manage"),electronOnly:""}},[a("SettingNumber",e._b({on:{change:e.storeChange}},"SettingNumber",e.taskManage.maxDownloadNum,!1)),a("SettingNumber",e._b({on:{change:e.storeChange}},"SettingNumber",e.taskManage.maxConns,!1)),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.jumpToDownload,!1)),a("SettingCheckbox",e._b({on:{change:e.storeChange}},"SettingCheckbox",e.checkboxes.notification,!1))],1),a("SettingBlock",{attrs:{label:e.t("disk_usage"),electronOnly:""}},[a("SettingNumber",e._b({on:{change:e.onMinDiskSpaceChange}},"SettingNumber",e.minDiskSpace,!1))],1)],1),a("SettingFooter",{attrs:{disable:!e.changed,loading:e.loading},on:{submit:e.onSubmit,discard:e.onDiscard,reset:e.onReset}})],1)},n=[],s=a("1b40"),l=a("2d04"),o=a("0967"),r=a("a76d"),c=a("4d5f"),u=a("e061"),h=a("cdb1"),d=a("2e92"),g=a("9384"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("q-input",{staticClass:"setting-directory",attrs:{value:e.value,outlined:"",dense:""},on:{input:e.onChange,blur:e.onBlur},nativeOn:{paste:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"folder"},on:{click:e.selectDirectory}})]},proxy:!0}])})],1)},b=[];a("ddb0");const m=o["b"].is.electron,y=m?a("a32b"):null,f=e=>{if(!y)return null;try{let t=y.dirname(e[0]);for(let a=1;a<e.length;a++)while(!e[a].includes(t)&&t.length>1)t=y.dirname(t);return t}catch(t){return null}};var k={props:{value:String,keyName:String},methods:{onChange(e){this.$emit("change",this.keyName,e)},onBlur(){this.$emit("blur")},selectDirectory(){if(!m)return;const e=a("34bb").ipcRenderer;e.once("select_directory",((e,t)=>{if(t&&!t.canceled&&t.filePaths&&t.filePaths.length)return console.log("select",t.filePaths[0]),this.$emit("change",this.keyName,t.filePaths[0]);console.log("skip select",t)})),e.send("select_directory")},onSelect(e){const t=[...e.target.files].map((e=>e.path||e.webkitRelativePath));this.onChange(f(t)||"")}}},S=k,v=(a("b0f1"),a("2877")),_=a("27f9"),C=a("0016"),x=a("eebe"),N=a.n(x),w=Object(v["a"])(S,p,b,!1,null,"480ace8c",null),D=w.exports;N()(w,"components",{QInput:_["a"],QIcon:C["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 row q-mb-sm"},[a("q-checkbox",{staticClass:"q-mb-md q-mr-sm",attrs:{dense:""},model:{value:e.showCheckbox,callback:function(t){e.showCheckbox=t},expression:"showCheckbox"}}),a("q-input",{staticClass:"input",attrs:{type:"number",outlined:"",dense:"","bottom-slots":"",disable:!e.showCheckbox,label:e.label,rules:[e.positiveNumber]},on:{blur:e.onBlur},nativeOn:{paste:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"hint",fn:function(){return[a("div",{staticClass:"text-right"},[e._v("KB/s")])]},proxy:!0}]),model:{value:e.speed,callback:function(t){e.speed=e._n(t)},expression:"speed"}})],1)},O=[],B={props:{label:String,value:Number,keyName:String},data(){return{enable:!1,defaultSpeed:1e5}},computed:{showCheckbox:{get(){return this.value>=0},set(e){e?this.onChange(this.defaultSpeed):this.onChange(-1)}},speed:{get(){const e=Math.floor(this.value/1e3);return e<0?0:e},set(e){this.onChange(1e3*e)}}},methods:{positiveNumber(e){const t=this.$t("limit_input_error");return isNaN(e)?t:e>0||t},onChange(e){if(""===e)return this.$emit("change",this.keyName,this.defaultSpeed);this.$emit("change",this.keyName,e)},onBlur(){!0!==this.positiveNumber(this.value)&&this.$emit("change",this.keyName,this.defaultSpeed)}}},R=B,V=a("8f8e"),M=Object(v["a"])(R,P,O,!1,null,null,null),U=M.exports;N()(M,"components",{QCheckbox:V["a"],QInput:_["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("q-slider",{staticClass:"setting-slider",attrs:{min:e.min,max:e.max,step:e.step,"track-size":"0.6rem","thumb-color":"primary","track-color":"page","selection-color":"primary",markers:"","marker-labels":"",label:"","label-value":e.label},scopedSlots:e._u([{key:"marker-label-group",fn:function(t){var i=t.markerList;return e._l(i,(function(t){return a("div",{key:t.index,staticClass:"cursor-pointer",class:t.classes,style:t.style,on:{click:function(a){return e.setValue(t.value)}}},[e._v(e._s(t.value)+e._s(e.unit))])}))}}]),model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}})],1)},L=[],E={props:{value:Number,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:5},keyName:String,unit:{type:String,default:"%"},rate:{type:Number,default:100},label_unit:{type:String,default:"%"}},computed:{slide:{get(){return Math.floor(this.value*this.rate)},set(e){this.setValue(e)}},label(){return this.slide+this.label_unit}},methods:{setValue(e){this.$emit("change",this.keyName,e/this.rate)}}},j=E,q=(a("b886"),a("c1d0")),T=Object(v["a"])(j,$,L,!1,null,"1e1f95ec",null),Q=T.exports;N()(T,"components",{QSlider:q["a"]});var F=a("284d"),I=a("0613"),A=a("708e"),J=a.n(A),G=function(e,t,a,i){var n,s=arguments.length,l=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,a,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(s<3?n(l):s>3?n(t,a,l):n(t,a))||l);return s>3&&l&&Object.defineProperty(t,a,l),l},z=function(e,t,a,i){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function l(e){try{r(i.next(e))}catch(t){s(t)}}function o(e){try{r(i["throw"](e))}catch(t){s(t)}}function r(e){e.done?a(e.value):n(e.value).then(l,o)}r((i=i.apply(e,t||[])).next())}))};const K=a("ed08").isElectron(),W=J.a.fileName;let H=class extends l["a"]{constructor(){super(...arguments),this.isWindows=!!o["b"].is.win,this.isElectron=K,this.playerlist=[]}mounted(){if(K&&(setTimeout((()=>{this.updatePlayerOptions()}),1e3),console.log(this.$route),this.$route.fullPath.includes("highlight"))){const e=this.$route.query.highlight;if(!e||"string"!==typeof e)return;const t=document.getElementById(e);if(console.log("high light target",e,t),!t)return;t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlight"),setTimeout((()=>{t.classList.remove("highlight")}),2500)}}get darkmodeOptions(){return[{label:this.t("darkModeSystem"),value:r["a"].system},{label:this.t("darkModeLight"),value:r["a"].light},{label:this.t("darkModeDark"),value:r["a"].dark}]}get videoPlayerOptions(){if(this.playerlist)for(let e=0;e<this.playerlist.length;++e)"VLC Player"===this.playerlist[e].value&&(this.playerlist[e].label="VLC "+this.t("player")),"Media Player"===this.playerlist[e].value&&(this.playerlist[e].label=this.t("media_player"));return[{label:W,value:W},{label:this.t("system_default"),value:"System Default"},...this.playerlist]}get libraryRateOptions(){return[{label:this.t("rate_g"),value:"G",caption:this.t("rate_g_desc")},{label:this.t("rate_pg"),value:"PG",caption:this.t("rate_pg_desc")},{label:this.t("rate_pg_13"),value:"PG-13",caption:this.t("rate_pg_13_desc")},{label:this.t("rate_r"),value:"R",caption:this.t("rate_r_desc")},{label:this.t("rate_nc_17"),value:"NC-17",caption:this.t("rate_nc_17_desc")}]}get libraryRate(){return this.settings.libraryRate}set libraryRate(e){this.storeChange("libraryRate",e)}get defaultVideoPlayer(){if("System Default"===this.settings.defaultVideoPlayer)return this.t("system_default");if("VLC Player"===this.settings.defaultVideoPlayer)return"VLC "+this.t("player");if("Media Player"===this.settings.defaultVideoPlayer)return this.t("media_player");if(this.settings.defaultVideoPlayer===J.a.name){if(I["a"].dispatch("updateSettings",{defaultVideoPlayer:W}),K){const{ipcRenderer:e}=a("34bb");e.send("set_settings",{defaultVideoPlayer:W})}return W}return this.settings.defaultVideoPlayer}set defaultVideoPlayer(e){this.storeChange("defaultVideoPlayer",e)}updatePlayerOptions(){return z(this,void 0,void 0,(function*(){const e=yield Object(c["a"])();e&&(this.playerlist=e,console.log("updatePlayerOptions()",e))}))}get checkboxes(){return{autoStart:{label:this.t("autoStart"),value:this.settings.autoLaunch,keyName:"autoLaunch"},autoStartUnfinished:{label:this.t("autoStartUnfinished"),value:this.settings.autoStartUnfinished,keyName:"autoStartUnfinished"},autoUpload:{label:this.t("enable_auto_upload"),value:this.settings.autoUpload,keyName:"autoUpload"},unlimitUpload:{label:this.t("unlimit_upload_amount"),value:this.settings.unlimitUploadAmount,keyName:"unlimitUploadAmount",tooltip:this.t("unlimit_upload_warning")},saveMetadata:{label:this.t("saveLinkSeed"),value:this.settings.saveLinkSeed,keyName:"saveLinkSeed"},defaultDeleteFiles:{label:this.t("default_delete_files"),value:this.settings.defaultDeleteFiles,keyName:"defaultDeleteFiles"},jumpToDownload:{label:this.t("automaticSkip"),value:this.settings.autoJumpToDownload,keyName:"autoJumpToDownload"},notification:{label:this.t("afterNotification"),value:this.settings.notifyAfterDownloaded,keyName:"notifyAfterDownloaded"},libraryShowExplore:{label:this.$t("library_show_explore"),value:this.settings.libraryShowExplore,keyName:"libraryShowExplore"}}}get minDiskSpace(){return{label:this.t("pause_if_less_space"),value:Math.floor(this.settings.minDiskSpace/1e6),keyName:"minDiskSpace",rules:[e=>!(isNaN(e)||e<10||e>1e6)||this.t("range_error",["10MB","1TB"])],min:10}}onMinDiskSpaceChange(e,t){return this.storeChange("minDiskSpace",1e6*t)}get taskManage(){const e=e=>!(isNaN(e)||e<=0||e>20)||this.t("range_error",[1,20]);return{maxDownloadNum:{label:this.t("maximumDownloadNum"),value:this.settings.maximumDownloadNum,keyName:"maximumDownloadNum",rules:[e]},maxConns:{label:this.t("maximumConnectionsNum"),value:this.settings.maximumConnectionsNum,keyName:"maximumConnectionsNum",rules:[e]}}}get payedUserShareRate(){return this.settings.payedUserShareRate}set payedUserShareRate(e){this.storeChange("payedUserShareRate",e)}};H=G([Object(s["a"])({components:{SettingBlock:u["a"],SettingSelect:d["a"],SettingCheckbox:g["a"],SettingDirectory:D,SettingSpeed:U,SettingSlider:Q,SettingNumber:F["a"],SettingFooter:h["a"]}})],H);var X=H,Y=X,Z=(a("8efe"),a("9989")),ee=a("b498"),te=Object(v["a"])(Y,i,n,!1,null,"2ec49d43",null);t["default"]=te.exports;N()(te,"components",{QPage:Z["a"],QColor:ee["a"]})},"2f05":function(e,t,a){},"8efe":function(e,t,a){"use strict";a("2f05")},b0f1:function(e,t,a){"use strict";a("e668")},b886:function(e,t,a){"use strict";a("f3aa")},e668:function(e,t,a){},f3aa:function(e,t,a){}}]);